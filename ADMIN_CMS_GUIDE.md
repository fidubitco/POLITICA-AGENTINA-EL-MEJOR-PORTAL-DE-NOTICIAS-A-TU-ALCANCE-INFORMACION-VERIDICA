# ğŸš€ GUÃA COMPLETA - ADMIN CMS CON IA

## âœ… SISTEMA COMPLETAMENTE FUNCIONAL

**VersiÃ³n**: 4.0.0 Enterprise Grade  
**Estado**: ğŸŸ¢ **100% FUNCIONAL**  
**Fecha**: 26 de Octubre, 2025

---

## ğŸ“Š ARQUITECTURA COMPLETA

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FRONTEND (React + Vite)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ HomeSimple (Portal de noticias)                          â”‚
â”‚  â€¢ AdminDashboardEnterprise (Dashboard con stats)           â”‚
â”‚  â€¢ CMSEditor (Editor con IA) â† NUEVO                        â”‚
â”‚  â€¢ tRPC Client (API calls)                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   BACKEND (Express + tRPC)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ Articles Router (CRUD + IA)                              â”‚
â”‚  â€¢ Analytics Router (Stats)                                 â”‚
â”‚  â€¢ Users Router (CRM)                                       â”‚
â”‚  â€¢ AI Service (Generate + Improve) â† FUNCIONAL              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   DATABASE (MySQL 8.0)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ 9 Tablas optimizadas                                     â”‚
â”‚  â€¢ Ãndices estratÃ©gicos                                     â”‚
â”‚  â€¢ Triggers automÃ¡ticos                                     â”‚
â”‚  â€¢ Stored procedures                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ INSTALACIÃ“N Y CONFIGURACIÃ“N

### 1. Instalar Dependencias
```bash
pnpm install
```

### 2. Configurar Base de Datos

#### OpciÃ³n A: MySQL Local
```bash
# Instalar MySQL 8.0
brew install mysql  # macOS
# o
sudo apt install mysql-server  # Linux

# Iniciar MySQL
mysql.server start

# Crear base de datos
mysql -u root -p < database/schema-optimized.sql
```

#### OpciÃ³n B: Docker
```bash
docker run -d \
  --name politica-db \
  -e MYSQL_ROOT_PASSWORD=password \
  -e MYSQL_DATABASE=politica_argentina \
  -p 3306:3306 \
  mysql:8.0

# Importar schema
docker exec -i politica-db mysql -uroot -ppassword politica_argentina < database/schema-optimized.sql
```

### 3. Variables de Entorno

Crear archivo `.env`:
```env
# Database
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=password
DB_NAME=politica_argentina

# API
PORT=3001
NODE_ENV=development

# Frontend
VITE_API_URL=http://localhost:3001
```

### 4. Iniciar Servidores

#### Terminal 1: Backend
```bash
pnpm dev:server
```

DeberÃ­as ver:
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                            â•‘
â•‘   ğŸš€ BACKEND ENTERPRISE GRADE - RUNNING                   â•‘
â•‘                                                            â•‘
â•‘   ğŸ“¡ Server:      http://localhost:3001                   â•‘
â•‘   ğŸ”Œ API:         http://localhost:3001/api/trpc          â•‘
â•‘   â¤ï¸  Health:      http://localhost:3001/health           â•‘
â•‘   ğŸŒ Environment: development                             â•‘
â•‘                                                            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ… Database connected successfully
```

#### Terminal 2: Frontend
```bash
pnpm dev:client
```

DeberÃ­as ver:
```
  VITE v5.0.10  ready in 1234 ms

  âœ  Local:   http://localhost:5173/
  âœ  Network: use --host to expose
```

---

## ğŸ¯ USAR EL CMS CON IA

### Acceder al CMS
```
http://localhost:5173/admin/cms
```

### Funcionalidades

#### 1. Generar ArtÃ­culo con IA ğŸ¤–

**Pasos**:
1. En el campo "Generar con IA", escribe un tema:
   ```
   Reforma econÃ³mica de Milei 2025
   ```
2. Click en **"Generar"**
3. Espera 1-2 segundos
4. El sistema generarÃ¡ automÃ¡ticamente:
   - âœ… TÃ­tulo optimizado
   - âœ… Extracto (resumen)
   - âœ… Contenido completo (HTML estructurado)
   - âœ… Tags automÃ¡ticos

**Ejemplo de contenido generado**:
```html
<h2>IntroducciÃ³n</h2>
<p>En el contexto actual de la polÃ­tica argentina...</p>

<h2>Contexto Actual</h2>
<p>La situaciÃ³n actual en relaciÃ³n a...</p>

<h3>Factores Clave</h3>
<ul>
  <li><strong>Factor EconÃ³mico:</strong> ...</li>
  <li><strong>Factor Social:</strong> ...</li>
  <li><strong>Factor PolÃ­tico:</strong> ...</li>
</ul>

<h2>AnÃ¡lisis de Expertos</h2>
<p>SegÃºn analistas polÃ­ticos...</p>

<blockquote>
"Este es un momento decisivo para Argentina..."
</blockquote>

<h2>ConclusiÃ³n</h2>
<p>En conclusiÃ³n...</p>
```

#### 2. Mejorar ArtÃ­culo con IA âœ¨

**Pasos**:
1. Escribe o pega contenido en el editor
2. Click en **"Mejorar con IA"**
3. El sistema mejorarÃ¡:
   - âœ… Estructura (agrega H2, H3)
   - âœ… Contexto (intro y conclusiÃ³n)
   - âœ… Formato (negritas, listas)
   - âœ… SEO (keywords resaltadas)

**Mejoras aplicadas**:
- TÃ­tulo optimizado para SEO
- Estructura mejorada con tÃ­tulos y secciones
- Contenido expandido con contexto y perspectivas
- Palabras clave resaltadas
- Listas para mejor estructura

#### 3. Editar Manualmente

**Campos disponibles**:
- **TÃ­tulo** * (requerido)
- **Extracto** * (requerido)
- **Contenido** * (requerido, HTML permitido)
- **CategorÃ­a** (PolÃ­tica, EconomÃ­a, Sociedad, etc.)
- **Autor** (nombre del autor)
- **Imagen** (URL de la imagen)
- **Estado** (Borrador, Publicado, Archivado)
- **Opciones**:
  - â˜‘ï¸ Destacado
  - â˜‘ï¸ Ãšltima Hora
- **Tags** (presiona Enter para agregar)

#### 4. Guardar ArtÃ­culo

**Pasos**:
1. Completa al menos: TÃ­tulo, Extracto, Contenido
2. Click en **"Guardar"**
3. El artÃ­culo se guardarÃ¡ en la base de datos
4. VerÃ¡s mensaje: "âœ… ArtÃ­culo guardado exitosamente! ID: X"

---

## ğŸ“Š ADMIN DASHBOARD

### Acceder al Dashboard
```
http://localhost:5173/admin/dashboard
```

### EstadÃ­sticas Mostradas

#### Cards de MÃ©tricas
1. **Total ArtÃ­culos**
   - Total count
   - Publicados vs Borradores
   - Gradient azul

2. **Visualizaciones**
   - Total views
   - Promedio por artÃ­culo
   - Gradient verde

3. **Me Gusta**
   - Total likes
   - Promedio por artÃ­culo
   - Gradient morado

4. **Compartidos**
   - Total shares
   - Promedio por artÃ­culo
   - Gradient naranja

#### Top 5 ArtÃ­culos
- Ranking (1-5)
- Imagen thumbnail
- TÃ­tulo
- Views, Likes, CategorÃ­a
- BotÃ³n de editar

#### ArtÃ­culos Recientes
- Tabla con 10 artÃ­culos mÃ¡s recientes
- Columnas: ArtÃ­culo, CategorÃ­a, Estado, Views, Fecha, Acciones
- BÃºsqueda y filtros
- Botones de editar y eliminar

---

## ğŸ”Œ API ENDPOINTS

### Articles

#### Listar ArtÃ­culos
```typescript
trpc.articles.list.query({
  limit: 10,
  offset: 0,
  category: 'politica',
  status: 'published',
})
```

#### Obtener por ID
```typescript
trpc.articles.getById.query({ id: 1 })
```

#### Crear ArtÃ­culo
```typescript
trpc.articles.create.mutate({
  title: 'TÃ­tulo del artÃ­culo',
  slug: 'titulo-del-articulo',
  excerpt: 'Resumen...',
  content: '<p>Contenido...</p>',
  category: 'PolÃ­tica',
  categorySlug: 'politica',
  author: 'Editor',
  imageUrl: '/images/imagen.jpg',
  status: 'published',
  featured: true,
  breaking: false,
  tags: ['polÃ­tica', 'argentina'],
})
```

#### Generar con IA
```typescript
trpc.articles.generateWithAI.mutate({
  topic: 'Reforma econÃ³mica',
  category: 'economia',
  keywords: ['milei', 'reforma', 'economÃ­a'],
})
```

#### Mejorar con IA
```typescript
trpc.articles.improveWithAI.mutate({
  content: '<p>Contenido original...</p>',
  title: 'TÃ­tulo original',
})
```

### Analytics

#### Obtener EstadÃ­sticas
```typescript
trpc.analytics.getStats.query()
```

#### Top ArtÃ­culos
```typescript
trpc.analytics.getTopArticles.query({ limit: 5 })
```

### Users (CRM)

#### Listar Usuarios
```typescript
trpc.users.list.query({
  limit: 10,
  offset: 0,
})
```

#### Crear Usuario
```typescript
trpc.users.create.mutate({
  email: 'usuario@example.com',
  name: 'Nombre Usuario',
  password: 'password123',
  role: 'editor',
})
```

---

## ğŸ—„ï¸ ESTRUCTURA DE BASE DE DATOS

### Tablas Principales

#### articles
```sql
- id (INT, PK)
- title (VARCHAR 500)
- slug (VARCHAR 500, UNIQUE)
- excerpt (TEXT)
- content (LONGTEXT)
- category (VARCHAR 100)
- categorySlug (VARCHAR 100)
- author (VARCHAR 200)
- imageUrl (VARCHAR 500)
- status (ENUM: published, draft, archived)
- featured (BOOLEAN)
- breaking (BOOLEAN)
- views (INT)
- likes (INT)
- shares (INT)
- tags (JSON)
- publishedAt (DATETIME)
- createdAt (DATETIME)
- updatedAt (DATETIME)
```

#### users (CRM)
```sql
- id (INT, PK)
- email (VARCHAR 255, UNIQUE)
- password (VARCHAR 255)
- name (VARCHAR 200)
- role (ENUM: admin, editor, author, user)
- avatar (VARCHAR 500)
- bio (TEXT)
- active (BOOLEAN)
- lastLogin (DATETIME)
- createdAt (DATETIME)
- updatedAt (DATETIME)
```

#### categories
```sql
- id (INT, PK)
- name (VARCHAR 100)
- slug (VARCHAR 100, UNIQUE)
- description (TEXT)
- color (VARCHAR 20)
- icon (VARCHAR 50)
- order (INT)
- active (BOOLEAN)
- createdAt (DATETIME)
- updatedAt (DATETIME)
```

### CategorÃ­as Pre-cargadas
1. PolÃ­tica (#3B82F6)
2. EconomÃ­a (#10B981)
3. Sociedad (#F59E0B)
4. Internacional (#EF4444)
5. Deportes (#8B5CF6)
6. Cultura (#EC4899)

---

## ğŸš€ DEPLOYMENT

### Build Production
```bash
# Build frontend
pnpm build

# Build backend
pnpm build:backend

# Build completo
pnpm build:full
```

### Start Production
```bash
# Iniciar backend
pnpm start:backend

# O usar PM2
pm2 start dist/server.js --name politica-backend
```

---

## âœ… CHECKLIST DE FUNCIONALIDAD

### Backend
- [x] Express server funcionando
- [x] tRPC configurado
- [x] MySQL conectado
- [x] CRUD de artÃ­culos
- [x] Analytics endpoints
- [x] Users endpoints (CRM)
- [x] AI service (generate)
- [x] AI service (improve)
- [x] Error handling
- [x] CORS configurado

### Frontend
- [x] tRPC client configurado
- [x] Admin Dashboard
- [x] CMS Editor
- [x] BotÃ³n "Generar con IA" funcional
- [x] BotÃ³n "Mejorar con IA" funcional
- [x] Formulario completo
- [x] ValidaciÃ³n
- [x] Mensajes de Ã©xito/error
- [x] Preview de imÃ¡genes
- [x] Sistema de tags

### Database
- [x] Schema optimizado
- [x] 9 tablas creadas
- [x] Ãndices estratÃ©gicos
- [x] Foreign keys
- [x] Triggers
- [x] Stored procedures
- [x] Vistas
- [x] CategorÃ­as pre-cargadas
- [x] Usuario admin por defecto

---

## ğŸ¯ RESULTADO FINAL

```
âœ… Backend API 100% funcional
âœ… Database optimizada
âœ… CMS Editor enterprise grade
âœ… Sistema de IA funcionando
âœ… Botones de IA operativos
âœ… CRUD completo
âœ… Analytics integrado
âœ… CRM bÃ¡sico
âœ… Frontend conectado
âœ… Build exitoso
```

---

**ğŸŸ¢ SISTEMA 100% FUNCIONAL Y LISTO PARA USAR**

*Ãšltima actualizaciÃ³n: 26 de Octubre, 2025*  
*VersiÃ³n: 4.0.0 Enterprise Grade*

